<!DOCTYPE html>
<html>
<head>
<title>2 datasets mixed</title>
<script src="http://d3js.org/d3.v3.min.js"></script>
</head>
<body>
<p>there are datasets / two data inputs<br/>
one is a CSV import the other one a JSON import<br/>
and some different ways of hot to display them</p>
<br>
<script>
//var data = [10,20,30,40,50];console.log (data); //this meant data originally was fixd in this sample
var color = d3.scale.linear().domain([0,25,50]).range(["pink", "brown","red"]);
d3.csv("mydata.csv", function(importdata){
	var canvas = d3.select("body").append("svg")
	.attr("width",180)
	.attr("height",480)
	canvas.selectAll("div")
	.data(importdata)
	.enter()
	.append("rect")
	.attr("width", function(d){return d.age*3;})
	.attr("height", 24)
	.attr("y", function (d,i){return i*25;})
	.attr("fill", function(d){return color(d.age);}); //here the colour value is calculated by the age of the person
	//.attr("fill", function(d,i){return color(i);});
	//.attr("fill", "pink")
	canvas.selectAll("text")
	.data(importdata)
	.enter()
	.append("text")
	.attr("fill","darkred")
	.attr("y", function (d,i){return i*25 +18;})
	.text(function(d){return d.name;})
})
</script>
<script>
d3.csv("mydata.csv", function(data){
	//var color = d3.scale.category20();
	var color = d3.scale.linear().domain([0,40]).range(["pink", "brown"]);
    var canvas = d3.select("body").append("svg").attr("width",180).attr("height",480)
	canvas.selectAll("circle")
	.data(data)
	.enter()
	.append("circle")
	.attr("cx", function(d){return d.age*1+100;})
	.attr("cy", function (d,i){return (i*25)+12;})
	.attr("r", function(d){return d.age*.3;})
	.attr("fill", function(d,i){return color(d.age);});
	canvas.selectAll("text")
	.data(data)
	.enter()
	.append("text")
	.attr("fill","darkred")
	.attr("y", function (d,i){return i*25 +18;})
	.text(function(d){return d.secondname;})
})
</script>	
<script>
d3.json("mydata.json", function(data){
	//var color = d3.scale.category20();
	var color = d3.scale.linear().domain([0,6,12]).range(["yellow","orange", "green"]);
    var canvas = d3.select("body").append("svg").attr("width",120).attr("height",480)
	canvas.selectAll("rect")
	.data(data)
	.enter()
	.append("rect")
	.attr("width", function(d){return d.age*1.3;})
	.attr("height", 24)
	.attr("y", function (d,i){return i*25;})
	.attr("fill", function(d,i){return color(i);});
	canvas.selectAll("text")
	.data(data)
	.enter()
	.append("text")
	.attr("fill","darkgreen")
	.attr("y", function (d,i){return i*25 +18;})
	.text(function(d){return d.name;})
})
</script>	
<script>
d3.json("mydata.json", function(data){
	var color = d3.scale.linear().domain([0,5,10]).range(["yellow","orange", "green"]);
	var canvas = d3.select("body").append("svg")
	.attr("width",280)
	.attr("height",480)
	canvas.selectAll("circle")
	.data(data)
	.enter()
	.append("circle")
	.attr("cx", function(d){return d.age*2+75;})
	.attr("cy", function (d,i){return (i*25)+12;})
	.attr("r", function(d){return d.age*.2;})
	.attr("fill", function(d,i){return color(i);});
	canvas.selectAll("text")
	.data(data)
	.enter()
	.append("text")
	.attr("fill","darkgreen")
	.attr("y", function (d,i){return i*25 +18;})
	.text(function(d){return d.secondname;})
})
</script>
<script>
d3.csv("mydata.csv", function(data){
	var color = d3.scale.linear().domain([50, 25,0]).range(["lightblue", "red","darkblue"]);
	var canvas = d3.select("body").append("svg")
	.attr("width",480)
	.attr("height",480)
	canvas.selectAll("circle")
	.data(data)
	.enter()
	.append("circle")
	.attr("cx", function(d,i){return i*24+96;})
	.attr("cy", function(d){return d.age*2 +200;})
	.attr("r", function(d){return d.age*0.3;})
	.attr("fill", function(d){return color(d.age);});
	canvas.selectAll("text")
	.data(data)
	.enter()
	.append("text")
	.attr("transform", "rotate(-90)")
        .attr("dx", "-12em")
        .attr("dy", "0em")
	.attr("fill","darkblue")
	.style("text-anchor", "left")
	.attr("y", function (d,i){return i*24 +100;})
	.text(function(d){return d.secondname;})
})
</script>
</body>
</html>